<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link href="${contextPath}/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="${contextPath}/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="${contextPath}/js/bootstrap.min.js"></script>
</head>
<body>
	<form action="${contextPath}/employee/updatepwd" method="post"  class=".form-group" id="myform">
		 <table class="table">
			<tr>
				<td><label>旧密码</label></td>
				<td><input type="password" name="oldpwd" id="oldpwd" class="form-control"  ></td>
			</tr>
			<tr>
				<td><label>新密码 </label></td>
				<td><input type="password" name="newpwd" id="newpwd" class="form-control"  ></td>
			</tr>	
			<tr>
				<td><label>确认密码 </label></td>
				<td><input type="password" name="againpwd" id="againpwd" class="form-control" ></td>
			</tr>		 		 
			<tr>
			<td><input onclick="ajaxsubmit()" type="button" class="btn btn-default" value="提交"/></td>
						
				 
			</tr>
		</table>
	</form>
</body>
<script type="text/javascript">
function ajaxsubmit()
{
	if($("#oldpwd").val()=='')
	{
		alert("旧密码不同为空");
		return;
	}else if($("#newpwd").val()=='')
	{
		alert("新密码不同为空");
		return;
	}else if($("#againpwd").val()=='')
	{
		alert("确认密码不能为空");
		return;
	}
	else if($("#newpwd").val()!=$("#againpwd").val())	
	{	
		alert("两次输入的密码不一致");
		return false;
	}else
	{
		$.ajax({ 
		        type: "POST", 		    
		        dataType: "JSON", 
		        data: $("#myform").serialize(),
		        async: false, 
		        url: "${contextPath}/employee/updatepwd",
		        success: function(data) {
		            	if (data.result == 1) {
		            		alert(data.msg)
		            		window.location.reload();//刷新当前页面.	            	     
		                } else {		                                   
		                	alert(data.msg)
		                	window.location.reload();//刷新当前页面.	  
		                }
		        }
		    });
	}
	
	
}

	 
	
	</script>
</html>