<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8" >
<title>图片上传本地预览</title>
<link rel="stylesheet" type="text/css" href="${contextPath}/css/bootstrap.min.css" />
<script src="${contextPath}/js/bootstrap.min.js"></script>
<script type="text/javascript" src="${contextPath}/js/admin_uploadPre.js"></script>
<link rel="stylesheet" type="text/css" href="${contextPath}/css/admin_img.css" />
<script type="text/javascript" src="${contextPath}/js/jquery-2.1.1.min.js"></script>

</head>
<body>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>原图</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<div id="preview0" class="picdiv">
						<img id="imghead0" src='${listCarousel[0].picHref}' />
					</div>
				</td>
				<td><br>
				<br>
					<form action="${contextPath}/home/updatePic" enctype="multipart/form-data" method="post">
						<input type="hidden" name="id" value="${listCarousel[0].carouselId}" />
						<input type="hidden" name="type" value="1" />
						网址链接<input type="text" name="contextHref" value="${listCarousel[0].contextHref}" />
						<input type="file" name="myfile" id="file1" onchange="previewImage(this,0)" /><br> <input
							type="submit" value="上传" onclick="return checknull('#file1');"/> 
					</form></td>
			</tr>
			<tr>
				<td>
					<div id="preview1" class="picdiv">
						<img  id="imghead1" src='${listCarousel[1].picHref}' />
					</div>
				</td>
				<td><br>
				<br>
					<form action="${contextPath}/home/updatePic" enctype="multipart/form-data" method="post">
						<input type="hidden" name="id" value="${listCarousel[1].carouselId}" />
						<input type="hidden" name="type" value="1" />
						网址链接<input type="text" name="contextHref" value="${listCarousel[1].contextHref}" />
						<input type="file" name="myfile" onchange="previewImage(this,1)" id="file2"/><br> <input
							type="submit" value="上传" onclick="return checknull('#file2')"/> 
					</form></td>
			</tr>

			<tr>
				<td>
					<div id="preview2" class="picdiv">
						<img id="imghead2" src='${listCarousel[2].picHref}' />
					</div>
				</td>
				<td><br>
				<br>
					<form action="${contextPath}/home/updatePic" enctype="multipart/form-data" method="post">
						<input type="hidden" name="id" value="${listCarousel[2].carouselId}" />
						<input type="hidden" name="type" value="1" />
						网址链接<input type="text" name="contextHref" value="${listCarousel[2].contextHref}" />
						<input type="file" name="myfile" onchange="previewImage(this,2)" id="file3" /><br> <input
							type="submit" value="上传" onclick="return checknull('#file3')"/> 
					</form></td>
			</tr>
			
			
		</tbody>
	</table>
</body>
    <script type="text/javascript">	
	function checknull(id){		
		var oInput = jQuery(id);						 
			if(oInput.val() == "") {
				alert("该文件不能为空");
				return false;		
			}else
			{
				alert("请耐心等待图片上传，成功后会自动刷新页面");
				return true;
			} 
		}											
	</script>
</html>